<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>

<plugin>
    
    <extension-point id="org.jkiss.dbeaver.sourceCodeGenerator" name="%extension-point.org.jkiss.dbeaver.sourceCodeGenerator.name" schema="schema/org.jkiss.dbeaver.sourceCodeGenerator.exsd"/>
    
     <extension point="org.eclipse.ui.menus">
        <!-- SQL editor menu -->
        <menuContribution allPopups="false" locationURI="popup:org.eclipse.ui.popup.any?after=generate">
            <menu label="%menu.database.sql.generate.sourcecode" icon="icons/code.png">
                <visibleWhen>
                    <with variable="activePart">
                        <test property="org.jkiss.dbeaver.ui.editors.sql.util.canGenerate"/>
                    </with>
                </visibleWhen>
                <dynamic id="org.jkiss.dbeaver.core.menu.sql.generate.sourcecode" class="org.jkiss.dbeaver.model.sourcecode.GeneratorSourceCodeContributor"/>
            </menu>
        </menuContribution>

    </extension>

    <!-- SQL Generators -->
    <extension point="org.jkiss.dbeaver.sourceCodeGenerator">
        
        <generator id="tableSourceCode_entity" class="org.jkiss.dbeaver.model.sourcecode.entity.GeneratorSourceCodeEntity" label="Entity" description="Get source code" order="1003">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
        <generator id="tableSourceCode_lombokData" class="org.jkiss.dbeaver.model.sourcecode.entity.GeneratorSourceCodeLombokData" label="LombokData" description="Get source code" order="1003">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
        <generator id="tableSourceCode_dao" class="org.jkiss.dbeaver.model.sourcecode.dao.GeneratorSourceCodeDao" label="Dao" description="Get source code" order="1004">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
        <generator id="tableSourceCode_mybatis" class="org.jkiss.dbeaver.model.sourcecode.mybatis.GeneratorSourceCodeMybatis" label="Mybatis" description="Get source code" order="1005">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
        <generator id="tableSourceCode_component" class="org.jkiss.dbeaver.model.sourcecode.component.GeneratorSourceCodeComponent" label="Component" description="Get source code" order="1006">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
        <generator id="tableSourceCode_componentImpl" class="org.jkiss.dbeaver.model.sourcecode.component.GeneratorSourceCodeComponentImpl" label="ComponentImpl" description="Get source code" order="1007">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
         <generator id="tableSourceCode_service" class="org.jkiss.dbeaver.model.sourcecode.service.GeneratorSourceCodeService" label="Service" description="Get source code" order="1008">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
        <generator id="tableSourceCode_serviceImpl" class="org.jkiss.dbeaver.model.sourcecode.service.GeneratorSourceCodeServiceImpl" label="ServiceImpl" description="Get source code" order="1009">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
         <generator id="tableSourceCode_controller" class="org.jkiss.dbeaver.model.sourcecode.controller.GeneratorSourceCodeController" label="Controller" description="Get source code" order="1010">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
         <generator id="tableSourceCode_html_list" class="org.jkiss.dbeaver.model.sourcecode.html.GeneratorSourceCodeHtmlThymeleafList" label="Html List(Thymeleaf)" description="Get source code" order="1011">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
         <generator id="tableSourceCode_html_list_table" class="org.jkiss.dbeaver.model.sourcecode.html.GeneratorSourceCodeHtmlThymeleafListTable" label="Html List Table(Thymeleaf)" description="Get source code" order="1012">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
         <generator id="tableSourceCode_html_add" class="org.jkiss.dbeaver.model.sourcecode.html.GeneratorSourceCodeHtmlThymeleafAdd" label="Html Add(Thymeleaf)" description="Get source code" order="1013">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
          <generator id="tableSourceCode_lang_message" class="org.jkiss.dbeaver.model.sourcecode.entity.GeneratorSourceCodeLangMessage" label="Message" description="Get source code" order="1014">
            <objectType name="org.jkiss.dbeaver.model.DBPScriptObject"/>
        </generator>
    </extension>
    
     <extension point="org.jkiss.dbeaver.databaseEditor">
        <editor
                id="org.jkiss.dbeaver.model.sourcecode.editors.SourceCodeEditor"
                class="org.jkiss.dbeaver.model.sourcecode.editors.SourceCodeEditor" 
                main="false"
                label="%editor.sourcecode.name"
                description="%editor.sourcecode.description"
                position="additions_end"
                icon="icons/code.png">
                 <objectType name="org.jkiss.dbeaver.model.struct.DBSObjectContainer" forceCheck="true" if="context.isEntityContainer(object)"/>
            	<objectType name="org.jkiss.dbeaver.model.struct.rdb.DBSTable" forceCheck="true"/>
        </editor> 
     </extension>
    
    <extension point="org.eclipse.core.runtime.preferences">
        <initializer class="org.jkiss.dbeaver.model.sourcecode.ui.preferences.SourceCodePreferencesInitializer"/>
    </extension>
    
     <extension point="org.eclipse.ui.preferencePages">
        <page id="org.jkiss.dbeaver.preferences.sourcecode.main" class="org.jkiss.dbeaver.model.sourcecode.ui.preferences.PrefPageSourceCodeGeneral" name="%menu.database.sql.generate.sourcecode">
        </page>
    <!--
    
        <page category="org.jkiss.dbeaver.preferences.sourcecode.main" id="org.jkiss.dbeaver.preferences.sourcecode.main.codetemplate" class="org.jkiss.dbeaver.model.sourcecode.ui.preferences.PrefPageSourceCodeTemplates" name="%menu.database.sql.generate.sourcecode_template">
        </page>
        
        -->
     </extension>
     
     <extension  point="org.eclipse.ui.contexts">
	   <context
                id="org.jkiss.dbeaver.ui.context.resultset"
                parentId="org.jkiss.dbeaver.ui.editors.sql"
                name="%context.org.jkiss.dbeaver.ui.context.resultset.name"
                description="%context.org.jkiss.dbeaver.ui.context.resultset.description"/>
        <context
                id="org.jkiss.dbeaver.ui.context.resultset.focused"
                parentId="org.jkiss.dbeaver.ui.context.resultset"
                name="%context.org.jkiss.dbeaver.ui.context.resultset.name focused"
                description="%context.org.jkiss.dbeaver.ui.context.resultset.description"/>
        <context
                id="org.jkiss.dbeaver.ui.context.resultset.edit"
                parentId="org.jkiss.dbeaver.ui.context.resultset"
                name="%context.org.jkiss.dbeaver.ui.context.resultset.edit.name"
                description="%context.org.jkiss.dbeaver.ui.context.resultset.edit.description"/>
	</extension>
	
      <extension point="org.eclipse.ui.bindings">
        <key commandId="org.jkiss.dbeaver.sourcecode.refreshCode" contextId="org.jkiss.dbeaver.ui.context.resultset" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="F5"/>
        <key commandId="org.jkiss.dbeaver.sourcecode.copyCode" contextId="org.jkiss.dbeaver.ui.context.resultset" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+C"/>
        <key commandId="org.jkiss.dbeaver.sourcecode.saveCode" contextId="org.jkiss.dbeaver.ui.context.resultset" schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" sequence="CTRL+S"/>
      </extension>
     <extension point="org.eclipse.ui.commandImages">
     	<image commandId="org.jkiss.dbeaver.sourcecode.saveCode" icon="platform:/plugin/org.jkiss.dbeaver.ui/icons/file/save.png"/>
     	<image commandId="org.jkiss.dbeaver.sourcecode.copyCode" icon="platform:/plugin/org.jkiss.dbeaver.ui/icons/sql/row_copy.png"/>
     	<image commandId="org.jkiss.dbeaver.sourcecode.refreshCode" icon="platform:/plugin/org.jkiss.dbeaver.ui/icons/sql/resultset_refresh.png"/>
     </extension>
     
      <extension point="org.eclipse.ui.commands">
	       <category id="org.jkiss.dbeaver.sourcecode.category" name="sourceCode"> </category>
	       <command  id="org.jkiss.dbeaver.sourcecode.saveCode"  name="saveCode" categoryId="org.jkiss.dbeaver.sourcecode.category"></command>
	       <command  id="org.jkiss.dbeaver.sourcecode.copyCode"  name="copyCode" categoryId="org.jkiss.dbeaver.sourcecode.category"></command>
	       <command  id="org.jkiss.dbeaver.sourcecode.refreshCode"  name="refreshCode" categoryId="org.jkiss.dbeaver.sourcecode.category"></command>
      </extension>
      <extension   point="org.eclipse.ui.handlers"> 
	      <handler commandId="org.jkiss.dbeaver.sourcecode.saveCode" class="org.jkiss.dbeaver.model.sourcecode.ui.handler.EntityCodeViewHandler"></handler>
	      <handler commandId="org.jkiss.dbeaver.sourcecode.copyCode" class="org.jkiss.dbeaver.model.sourcecode.ui.handler.EntityCodeViewHandler"></handler>
	      <handler commandId="org.jkiss.dbeaver.sourcecode.refreshCode" class="org.jkiss.dbeaver.model.sourcecode.ui.handler.EntityCodeViewHandler"></handler>
      </extension>
 
</plugin>
